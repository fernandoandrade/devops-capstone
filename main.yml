---

- name: bsafe-app-server
  hosts: webservers
  become: true
  
  tasks:
     - name: stop tomcat docker
       shell: docker stop tomcat-container | true
       
     - name: remove tomcat container
       shell: docker rm -f tomcat-container | true
       
     - name: Remove tomcat image
       shell: docker rmi -f nandocandrade80/tomcat-image | true
       
     - name: create a new tomcat container using the defined Dockerfile
       shell: docker run -d --name tomcat-container -p 8080:8080 nandocandrade80/bsafe-app-server
      
...
